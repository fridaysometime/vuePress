## http和https

1. HTTP和HTTPS的基本概念：

   HTTP：是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。

   HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。

   HTTPS协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。

2. 区别

   1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
   2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
   3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
   4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

3. 工作原理

   HTTP的工作原理：一次HTTP操作称为一个事物，其工作过程可分为四步

   1、Client与Server建立连接，单击某个超链接，HTTP的工作开始。

   2、连接建立后，Client发送一个请求给Server，请求方式的格式为：统一资源标识符（URL）、协议版本号，后边是MIME信息包括请求修饰符，Client信息和可能的内容。

   3、Server接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码，后边是MIME信息包括Server信息、实体信息和可能的内容。

   4、Client接收Server返回的信息通过浏览器显示在用户的显示屏上，然后Client和Server断开连接。

   HTTPS的工作原理：

   1、Client使用HTTPS的URL访问Web服务器，要求与Web服务器建立SSL连接。

   2、Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。

   3、客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级。

   4、客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。

   5、Web服务器利用自己的私钥解密出会话密钥。

   6、Web服务器利用会话密钥加密与客户端之间的通信。

4. HTTPS的优缺点

   优点：

   1、使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；

   2、HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。

   3、HTTPS是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。

   缺点：

   1、HTTPS协议握手阶段比较费时，会使页面的加载时间延长近50%，增加10%到20%的耗电；

   2、HTTPS连接缓存不如HTTP高效，会增加数据开销和功耗，甚至已有的安全措施也会因此而受到影响；

   3、SSL证书需要钱，功能越强大的证书费用越高，个人网站、小网站没有必要一般不会用。

   4、SSL证书通常需要绑定IP，不能在同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗。

   5、HTTPS协议的加密范围也比较有限，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用。最关键的，SSL证书的信用链体系并不安全，特别是在某些国家可以控制CA根证书的情况下，中间人攻击一样可行。

5. 常见的状态码
   200：请求被正常处理
   204：请求被受理但没有资源可以返回
   206：客户端只是请求资源的一部分，服务器只对请求的部分资源执行GET方法，相应报文中通过Content-Range指定范围的资源。s
   301：永久性重定向
   302：临时重定向
   303：与302状态码有相似功能，只是它希望客户端在请求一个URI的时候，能通过GET方法重定向到另一个URI上
   304：发送附带条件的请求时，条件不满足时返回，与重定向无关
   307：临时重定向，与302类似，只是强制要求使用POST方法
   400：请求报文语法有误，服务器无法识别
   401：请求需要认证
   403：请求的对应资源禁止被访问
   404：服务器无法找到对应资源
   500：服务器内部错误
   503：服务器正忙



